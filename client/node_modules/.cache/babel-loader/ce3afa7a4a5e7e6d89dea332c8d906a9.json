{"ast":null,"code":"import _objectSpread from \"/Users/ediewoelfle/Developer/radiotrax-code-challenge/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/ediewoelfle/Developer/radiotrax-code-challenge/client/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport { Login } from \"./screens/Login\";\nimport { Devices } from \"./screens/Devices\";\nimport * as R from \"ramda\";\nimport axios from \"axios\";\nimport { login } from \"./redux/actions\";\nimport { useDispatch } from \"react-redux\";\nconst url = \"http://localhost:3000/devices\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props); // holding for two arrays, one for display and one with the original data. Thinking of a better way to do this. --EdieDanger\n\n    this.state = {\n      data: null,\n      devices: null\n    };\n    this.sortBy = this.sortBy.bind(this);\n    this.login = this.login.bind(this);\n    this.filterBy = this.filterBy.bind(this);\n    this.reset = this.reset.bind(this);\n    this.dispatch = useDispatch();\n  }\n\n  reset() {\n    this.setState(_objectSpread({}, this.state, {\n      devices: this.state.data\n    }));\n  } // using ramda functions to sort the data by a key and save to the display array\n\n\n  sortBy(key) {\n    this.setState(_objectSpread({}, this.state, {\n      devices: R.sortBy(R.prop(key), this.state.devices)\n    }));\n  } // use this for the filter\n\n\n  filterBy(key, value) {\n    this.setState(_objectSpread({}, this.state, {\n      devices: R.filter(device => {\n        return device[key] === value;\n      }, this.state.data)\n    }));\n  } // basic login to retrieve data\n\n\n  login(values) {\n    const credentials = btoa(\"\".concat(values.username, \":\").concat(values.password));\n    axios.get(url, {\n      headers: {\n        authorization: \"Basic \".concat(credentials)\n      }\n    }).then(response => {\n      this.setState(_objectSpread({}, this.state, {\n        data: response.data,\n        devices: response.data\n      }));\n      this.dispatch(login);\n    }, error => {\n      alert(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, !this.state.data && React.createElement(Login, {\n      login: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Devices, {\n      devices: this.state.devices,\n      sortBy: this.sortBy,\n      filterBy: this.filterBy,\n      reset: this.reset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/ediewoelfle/Developer/radiotrax-code-challenge/client/src/App.js"],"names":["React","Login","Devices","R","axios","login","useDispatch","url","App","Component","constructor","props","state","data","devices","sortBy","bind","filterBy","reset","dispatch","setState","key","prop","value","filter","device","values","credentials","btoa","username","password","get","headers","authorization","then","response","error","alert","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport { Login } from \"./screens/Login\";\nimport { Devices } from \"./screens/Devices\";\nimport * as R from \"ramda\";\nimport axios from \"axios\";\nimport { login } from \"./redux/actions\";\nimport { useDispatch } from \"react-redux\";\n\nconst url = \"http://localhost:3000/devices\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // holding for two arrays, one for display and one with the original data. Thinking of a better way to do this. --EdieDanger\n    this.state = {\n      data: null,\n      devices: null\n    };\n\n    this.sortBy = this.sortBy.bind(this);\n    this.login = this.login.bind(this);\n    this.filterBy = this.filterBy.bind(this);\n    this.reset = this.reset.bind(this);\n    this.dispatch = useDispatch();\n  }\n\n  reset() {\n    this.setState({ ...this.state, devices: this.state.data });\n  }\n\n  // using ramda functions to sort the data by a key and save to the display array\n  sortBy(key) {\n    this.setState({\n      ...this.state,\n      devices: R.sortBy(R.prop(key), this.state.devices)\n    });\n  }\n\n  // use this for the filter\n  filterBy(key, value) {\n    this.setState({\n      ...this.state,\n      devices: R.filter(device => {\n        return device[key] === value;\n      }, this.state.data)\n    });\n  }\n\n  // basic login to retrieve data\n  login(values) {\n    const credentials = btoa(`${values.username}:${values.password}`);\n\n    axios\n      .get(url, {\n        headers: {\n          authorization: `Basic ${credentials}`\n        }\n      })\n      .then(\n        response => {\n          this.setState({\n            ...this.state,\n            data: response.data,\n            devices: response.data\n          });\n\n          this.dispatch(login);\n        },\n        error => {\n          alert(error);\n        }\n      );\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {!this.state.data && <Login login={this.login} />}\n        <Devices\n          devices={this.state.devices}\n          sortBy={this.sortBy}\n          filterBy={this.filterBy}\n          reset={this.reset}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}