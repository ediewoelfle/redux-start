{"ast":null,"code":"var _jsxFileName = \"/Users/ediewoelfle/Developer/radiotrax-code-challenge/client/src/screens/Login.js\";\nimport React from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nexport const Login = props => {\n  const logged = useSelector(state => state.loggedReducer);\n  const dispatch = useDispatch(); // basic login to retrieve data\n\n  const signin = values => {\n    const credentials = btoa(\"\".concat(values.username, \":\").concat(values.password));\n    axios.get(url, {\n      headers: {\n        authorization: \"Basic \".concat(credentials)\n      }\n    }).then(response => {\n      dispatch(newData(response.data));\n      dispatch(reset(response.data));\n      dispatch(login());\n    }, error => {\n      alert(error);\n    });\n  };\n\n  return React.createElement(Formik, {\n    initialValues: {\n      username: \"\",\n      password: \"\"\n    },\n    validationSchema: Yup.object().shape({\n      username: Yup.string().required(\"Username required.\").min(2, \"Too Short!\").max(50, \"Too Long!\").matches(/^[a-zA-Z]+$/, \"Username must only be letters!\"),\n      password: Yup.string().required(\"Password required.\").min(2, \"Too Short!\").max(50, \"Too Long!\")\n    }),\n    onSubmit: (values, actions) => {\n      login(values);\n    },\n    render: ({\n      errors,\n      status,\n      touched,\n      isSubmitting\n    }) => React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Field, {\n      type: \"text\",\n      name: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), errors.username && touched.username && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, errors.username), React.createElement(Field, {\n      type: \"password\",\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), errors.password && touched.password && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, errors.password), status && status.msg && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, status.msg), React.createElement(\"button\", {\n      type: \"submit\",\n      disabled: isSubmitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Submit\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  });\n};","map":{"version":3,"sources":["/Users/ediewoelfle/Developer/radiotrax-code-challenge/client/src/screens/Login.js"],"names":["React","Formik","Form","Field","Yup","Login","props","logged","useSelector","state","loggedReducer","dispatch","useDispatch","signin","values","credentials","btoa","username","password","axios","get","url","headers","authorization","then","response","newData","data","reset","login","error","alert","object","shape","string","required","min","max","matches","actions","errors","status","touched","isSubmitting","msg"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,QAApC;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,OAAO,MAAMC,KAAK,GAAGC,KAAK,IAAI;AAC5B,QAAMC,MAAM,GAAGC,WAAW,CAACC,KAAK,IAAIA,KAAK,CAACC,aAAhB,CAA1B;AACA,QAAMC,QAAQ,GAAGC,WAAW,EAA5B,CAF4B,CAI5B;;AACA,QAAMC,MAAM,GAAGC,MAAM,IAAI;AACvB,UAAMC,WAAW,GAAGC,IAAI,WAAIF,MAAM,CAACG,QAAX,cAAuBH,MAAM,CAACI,QAA9B,EAAxB;AAEAC,IAAAA,KAAK,CACFC,GADH,CACOC,GADP,EACY;AACRC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,kBAAWR,WAAX;AADN;AADD,KADZ,EAMGS,IANH,CAOIC,QAAQ,IAAI;AACVd,MAAAA,QAAQ,CAACe,OAAO,CAACD,QAAQ,CAACE,IAAV,CAAR,CAAR;AACAhB,MAAAA,QAAQ,CAACiB,KAAK,CAACH,QAAQ,CAACE,IAAV,CAAN,CAAR;AACAhB,MAAAA,QAAQ,CAACkB,KAAK,EAAN,CAAR;AACD,KAXL,EAYIC,KAAK,IAAI;AACPC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD,KAdL;AAgBD,GAnBD;;AAqBA,SACE,oBAAC,MAAD;AACE,IAAA,aAAa,EAAE;AAAEb,MAAAA,QAAQ,EAAE,EAAZ;AAAgBC,MAAAA,QAAQ,EAAE;AAA1B,KADjB;AAEE,IAAA,gBAAgB,EAAEd,GAAG,CAAC4B,MAAJ,GAAaC,KAAb,CAAmB;AACnChB,MAAAA,QAAQ,EAAEb,GAAG,CAAC8B,MAAJ,GACPC,QADO,CACE,oBADF,EAEPC,GAFO,CAEH,CAFG,EAEA,YAFA,EAGPC,GAHO,CAGH,EAHG,EAGC,WAHD,EAIPC,OAJO,CAIC,aAJD,EAIgB,gCAJhB,CADyB;AAMnCpB,MAAAA,QAAQ,EAAEd,GAAG,CAAC8B,MAAJ,GACPC,QADO,CACE,oBADF,EAEPC,GAFO,CAEH,CAFG,EAEA,YAFA,EAGPC,GAHO,CAGH,EAHG,EAGC,WAHD;AANyB,KAAnB,CAFpB;AAaE,IAAA,QAAQ,EAAE,CAACvB,MAAD,EAASyB,OAAT,KAAqB;AAC7BV,MAAAA,KAAK,CAACf,MAAD,CAAL;AACD,KAfH;AAgBE,IAAA,MAAM,EAAE,CAAC;AAAE0B,MAAAA,MAAF;AAAUC,MAAAA,MAAV;AAAkBC,MAAAA,OAAlB;AAA2BC,MAAAA;AAA3B,KAAD,KACN,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEGH,MAAM,CAACvB,QAAP,IAAmByB,OAAO,CAACzB,QAA3B,IAAuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMuB,MAAM,CAACvB,QAAb,CAF1C,EAGE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIGuB,MAAM,CAACtB,QAAP,IAAmBwB,OAAO,CAACxB,QAA3B,IAAuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMsB,MAAM,CAACtB,QAAb,CAJ1C,EAKGuB,MAAM,IAAIA,MAAM,CAACG,GAAjB,IAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMH,MAAM,CAACG,GAAb,CAL3B,EAME;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,QAAQ,EAAED,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,CAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AA+BD,CAzDM","sourcesContent":["import React from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\n\nexport const Login = props => {\n  const logged = useSelector(state => state.loggedReducer);\n  const dispatch = useDispatch();\n\n  // basic login to retrieve data\n  const signin = values => {\n    const credentials = btoa(`${values.username}:${values.password}`);\n\n    axios\n      .get(url, {\n        headers: {\n          authorization: `Basic ${credentials}`\n        }\n      })\n      .then(\n        response => {\n          dispatch(newData(response.data));\n          dispatch(reset(response.data));\n          dispatch(login());\n        },\n        error => {\n          alert(error);\n        }\n      );\n  };\n\n  return (\n    <Formik\n      initialValues={{ username: \"\", password: \"\" }}\n      validationSchema={Yup.object().shape({\n        username: Yup.string()\n          .required(\"Username required.\")\n          .min(2, \"Too Short!\")\n          .max(50, \"Too Long!\")\n          .matches(/^[a-zA-Z]+$/, \"Username must only be letters!\"),\n        password: Yup.string()\n          .required(\"Password required.\")\n          .min(2, \"Too Short!\")\n          .max(50, \"Too Long!\")\n      })}\n      onSubmit={(values, actions) => {\n        login(values);\n      }}\n      render={({ errors, status, touched, isSubmitting }) => (\n        <Form>\n          <Field type=\"text\" name=\"username\" />\n          {errors.username && touched.username && <div>{errors.username}</div>}\n          <Field type=\"password\" name=\"password\" />\n          {errors.password && touched.password && <div>{errors.password}</div>}\n          {status && status.msg && <div>{status.msg}</div>}\n          <button type=\"submit\" disabled={isSubmitting}>\n            Submit\n          </button>\n        </Form>\n      )}\n    />\n  );\n};\n"]},"metadata":{},"sourceType":"module"}